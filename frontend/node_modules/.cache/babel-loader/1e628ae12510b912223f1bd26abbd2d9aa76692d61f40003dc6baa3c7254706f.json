{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./css/CreateIssueForm.css';import Scroll from'../components/Scroll';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateIssueForm=_ref=>{let{projectId,onClose}=_ref;const[project,setProject]=useState('');const[issueType,setIssueType]=useState('');const[status,setStatus]=useState('');const[summary,setSummary]=useState('');const[assignee,setAssignee]=useState('');const[sprint,setSprint]=useState('');const[attachment,setAttachment]=useState(null);const[startDate,setStartDate]=useState('');const[dueDate,setDueDate]=useState('');const[assigneeOptions,setAssigneeOptions]=useState([]);useEffect(()=>{// Fetch team members from backend\nconst fetchTeamMembers=async()=>{try{const response=await axios.get('http://localhost:8000/djapp/get-team-members/?projectid=${projectId}');setAssigneeOptions(response.data.team_members);}catch(error){console.error('Error fetching team members:',error);}};fetchTeamMembers();},[]);const handleSubmit=e=>{e.preventDefault();// Your submission logic here\n};const handleAttachmentChange=e=>{setAttachment(e.target.files[0]);};return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"create-issue-form\",children:/*#__PURE__*/_jsxs(Scroll,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,children:\"X\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Project:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:project,onChange:e=>setProject(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Issue Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:issueType,onChange:e=>setIssueType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Story\",children:\"Story\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Task\",children:\"Task\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bug\",children:\"Bug\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Epic\",children:\"Epic\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"To-Do\",children:\"To-Do\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In-Progress\",children:\"In-Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Done\",children:\"Done\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Summary:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:summary,onChange:e=>setSummary(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Assignee:\"}),/*#__PURE__*/_jsxs(\"select\",{value:assignee,onChange:e=>setAssignee(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),assigneeOptions&&assigneeOptions.length>0?assigneeOptions.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user.email,children:\"\".concat(user.first_name,\" \").concat(user.last_name)},user.email)):/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Loading...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sprint:\"}),/*#__PURE__*/_jsx(\"select\",{value:sprint,onChange:e=>setSprint(e.target.value),children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"})})]}),issueType===\"Epic\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:startDate,onChange:e=>setStartDate(e.target.value)})]}),issueType===\"Epic\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Due Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:dueDate,onChange:e=>setDueDate(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Attachment:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleAttachmentChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"Cancel\"})]})]})});};export default CreateIssueForm;","map":{"version":3,"names":["React","useState","useEffect","axios","Scroll","jsx","_jsx","jsxs","_jsxs","CreateIssueForm","_ref","projectId","onClose","project","setProject","issueType","setIssueType","status","setStatus","summary","setSummary","assignee","setAssignee","sprint","setSprint","attachment","setAttachment","startDate","setStartDate","dueDate","setDueDate","assigneeOptions","setAssigneeOptions","fetchTeamMembers","response","get","data","team_members","error","console","handleSubmit","e","preventDefault","handleAttachmentChange","target","files","onSubmit","className","children","type","onClick","value","onChange","length","map","user","email","concat","first_name","last_name","disabled"],"sources":["C:/Users/Kavyasri/OneDrive/Documents/6th sem/block/salty_kav/frontend/src/containers/CreateIssueForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './css/CreateIssueForm.css';\r\nimport Scroll from '../components/Scroll';\r\n\r\n\r\n\r\nconst CreateIssueForm = ({ projectId ,onClose }) => {\r\n  const [project, setProject] = useState('');\r\n  const [issueType, setIssueType] = useState('');\r\n  const [status, setStatus] = useState('');\r\n  const [summary, setSummary] = useState('');\r\n  const [assignee, setAssignee] = useState('');\r\n  const [sprint, setSprint] = useState('');\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [startDate, setStartDate] = useState('');\r\n  const [dueDate, setDueDate] = useState('');\r\n  const [assigneeOptions, setAssigneeOptions] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    // Fetch team members from backend\r\n    const fetchTeamMembers = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/djapp/get-team-members/?projectid=${projectId}');\r\n        setAssigneeOptions(response.data.team_members);\r\n      } catch (error) {\r\n        console.error('Error fetching team members:', error);\r\n      }\r\n    };\r\n\r\n    fetchTeamMembers();\r\n  }, []);\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // Your submission logic here\r\n  };\r\n\r\n  const handleAttachmentChange = (e) => {\r\n    setAttachment(e.target.files[0]);\r\n  };\r\n\r\n  return (\r\n    \r\n    <form onSubmit={handleSubmit} className=\"create-issue-form\">\r\n      <Scroll>\r\n      <button type=\"button\" onClick={onClose}>X</button> {/* Close button */}\r\n      <div>\r\n        <label>Project:</label>\r\n        <textarea\r\n          value={project}\r\n          onChange={(e) => setProject(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Issue Type:</label>\r\n        <select value={issueType} onChange={(e) => setIssueType(e.target.value)}>\r\n          <option value=\"\">Select...</option>\r\n          <option value=\"Story\">Story</option>\r\n          <option value=\"Task\">Task</option>\r\n          <option value=\"Bug\">Bug</option>\r\n          <option value=\"Epic\">Epic</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label>Status:</label>\r\n        <select value={status} onChange={(e) => setStatus(e.target.value)}>\r\n          <option value=\"\">Select...</option>\r\n          <option value=\"To-Do\">To-Do</option>\r\n          <option value=\"In-Progress\">In-Progress</option>\r\n          <option value=\"Done\">Done</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label>Summary:</label>\r\n        <textarea\r\n          value={summary}\r\n          onChange={(e) => setSummary(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Assignee:</label>\r\n        <select\r\n          value={assignee}\r\n          onChange={(e) => setAssignee(e.target.value)}\r\n        >\r\n          <option value=\"\">Select</option>\r\n          {assigneeOptions && assigneeOptions.length > 0 ? (\r\n            assigneeOptions.map(user => (\r\n              <option key={user.email} value={user.email}>\r\n                {`${user.first_name} ${user.last_name}`}\r\n              </option>\r\n            ))\r\n          ) : (\r\n            <option value=\"\" disabled>Loading...</option>\r\n          )}\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label>Sprint:</label>\r\n        <select value={sprint} onChange={(e) => setSprint(e.target.value)}>\r\n          <option value=\"\">Select...</option>\r\n          {/* Add sprint options here */}\r\n        </select>\r\n      </div>\r\n      {issueType === \"Epic\" && (\r\n        <div>\r\n          <label>Start Date:</label>\r\n          <input\r\n            type=\"datetime-local\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n          />\r\n        </div>\r\n      )}\r\n      {issueType === \"Epic\" && (\r\n        <div>\r\n          <label>Due Date:</label>\r\n          <input\r\n            type=\"datetime-local\"\r\n            value={dueDate}\r\n            onChange={(e) => setDueDate(e.target.value)}\r\n          />\r\n        </div>\r\n      )}\r\n      <div>\r\n        <label>Attachment:</label>\r\n        <input type=\"file\" onChange={handleAttachmentChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">Create</button>\r\n        <button type=\"button\">Cancel</button>\r\n      </div>\r\n      </Scroll>\r\n    </form>\r\n    \r\n  );\r\n};\r\n\r\nexport default CreateIssueForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}