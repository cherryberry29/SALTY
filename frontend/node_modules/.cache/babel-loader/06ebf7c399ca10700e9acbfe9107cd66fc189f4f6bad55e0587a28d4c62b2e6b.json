{"ast":null,"code":"import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{useNavigate}from'react-router-dom';import{createProject}from'../actions/auth';import'./css/create_project.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Project=_ref=>{let{isAuthenticated,user,createProject,project}=_ref;const[showForm,setShowForm]=useState(false);const[projectName,setProjectName]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();try{await createProject({projectname:projectName,teamlead:user.email});setProjectName('');setShowForm(false);}catch(error){console.error('Error creating project:',error);}};// Listen for changes in the project prop\nuseEffect(()=>{if(project&&project.projectid){// If project prop has been updated with projectid, navigate to the new project\nnavigate(\"/project/\".concat(project.projectid));}},[project,navigate]);return/*#__PURE__*/_jsxs(\"div\",{children:[!showForm&&/*#__PURE__*/_jsx(\"button\",{className:\"create-project-button\",onClick:()=>setShowForm(true),children:\"Create Project\"}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:()=>setShowForm(false),children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"project-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"projectName\",children:\"Project Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"projectName\",value:projectName,onChange:e=>setProjectName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Project\"})]})]})})]});};const mapStateToProps=state=>({isAuthenticated:state.auth.isAuthenticated,user:state.auth.user,project:state.auth.project});export default connect(mapStateToProps,{createProject})(Project);","map":{"version":3,"names":["React","useState","useEffect","connect","useNavigate","createProject","jsx","_jsx","jsxs","_jsxs","Project","_ref","isAuthenticated","user","project","showForm","setShowForm","projectName","setProjectName","navigate","handleSubmit","e","preventDefault","projectname","teamlead","email","error","console","projectid","concat","children","className","onClick","onSubmit","htmlFor","type","id","value","onChange","target","required","mapStateToProps","state","auth"],"sources":["C:/Users/Hp/Documents/firststage2/Project-Management-Tool/frontend/src/containers/Create_project.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createProject } from '../actions/auth';\r\n\r\nimport './css/create_project.css';\r\n\r\nconst Project = ({ isAuthenticated, user, createProject, project }) => {\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [projectName, setProjectName] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await createProject({ projectname: projectName, teamlead: user.email });\r\n            setProjectName('');\r\n            setShowForm(false);\r\n        } catch (error) {\r\n            console.error('Error creating project:', error);\r\n        }\r\n    };\r\n\r\n    // Listen for changes in the project prop\r\n    useEffect(() => {\r\n        if (project && project.projectid) {\r\n            // If project prop has been updated with projectid, navigate to the new project\r\n            navigate(`/project/${project.projectid}`);\r\n        }\r\n    }, [project, navigate]);\r\n\r\n    return (\r\n        <div>\r\n           \r\n            {!showForm && (\r\n                <button className=\"create-project-button\" onClick={() => setShowForm(true)}>Create Project</button>\r\n            )}\r\n            {showForm && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <span className=\"close\" onClick={() => setShowForm(false)}>&times;</span>\r\n                        <form onSubmit={handleSubmit} className=\"project-form\">\r\n                            <label htmlFor=\"projectName\">Project Name:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"projectName\"\r\n                                value={projectName}\r\n                                onChange={(e) => setProjectName(e.target.value)}\r\n                                required\r\n                            />\r\n                            <button type=\"submit\">Create Project</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    user: state.auth.user,\r\n    project: state.auth.project\r\n});\r\n\r\nexport default connect(mapStateToProps, { createProject })(Project);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}