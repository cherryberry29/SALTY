{"ast":null,"code":"import React,{Fragment,useState,useEffect}from'react';import{Link,Navigate}from\"react-router-dom\";import{connect}from'react-redux';import{logout}from'../actions/auth';import\"./css/navbar.css\";import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=_ref=>{let{logout,isAuthenticated,user}=_ref;const[redirect,setRedirect]=useState(false);const[isDropdownOpen,setIsDropdownOpen]=useState(false);const[projects,setProjects]=useState([]);useEffect(()=>{const fetchProjects=async()=>{try{const response=await axios.get('http://localhost:8000/djapp/project_list/',{params:{email:user.email}});setProjects(response.data);}catch(error){console.error('Error fetching projects:',error);}};fetchProjects();},[user]);const toggleDropdown=()=>{setIsDropdownOpen(!isDropdownOpen);};const logout_user=()=>{logout();setRedirect(true);};const guestLinks=()=>/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signup\",children:\"Sign Up\"})})]});const authLinks=()=>/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"#!\",onClick:logout_user,children:\"Logout\"})})});return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-container\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-list\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:\"Salty\"}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",children:\"Your Work\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown \".concat(isDropdownOpen?'open':''),children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-button dropbtn\",onClick:toggleDropdown,children:\"Projects\"}),projects.map(project=>/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:/*#__PURE__*/_jsx(Link,{to:\"/projects/project1\",children:project.projectname})}))]}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",children:\"Filters\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-button\",children:\"Teams\"})}),isAuthenticated?authLinks():guestLinks()]}),redirect?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):null]})});};const mapStateToProps=state=>({isAuthenticated:state.auth.isAuthenticated,user:state.auth.user});export default connect(mapStateToProps,{logout})(Navbar);","map":{"version":3,"names":["React","Fragment","useState","useEffect","Link","Navigate","connect","logout","axios","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","isAuthenticated","user","redirect","setRedirect","isDropdownOpen","setIsDropdownOpen","projects","setProjects","fetchProjects","response","get","params","email","data","error","console","toggleDropdown","logout_user","guestLinks","children","className","to","authLinks","href","onClick","concat","map","project","projectname","mapStateToProps","state","auth"],"sources":["C:/Users/Hp/Documents/firststage2copy/Project-Management-Tool/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { Fragment, useState,useEffect  } from 'react';\r\nimport { Link, Navigate } from \"react-router-dom\"\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../actions/auth';\r\nimport \"./css/navbar.css\";\r\nimport axios from 'axios';\r\n\r\nconst Navbar = ({ logout, isAuthenticated,user }) => {\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n\r\n    const [projects, setProjects] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchProjects = async () => {\r\n            try {\r\n                const response = await axios.get('http://localhost:8000/djapp/project_list/', {\r\n                    params: { email: user.email }\r\n                });\r\n                setProjects(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching projects:', error);\r\n            }\r\n        };\r\n\r\n        fetchProjects();\r\n    }, [user]);\r\n\r\n    const toggleDropdown = () => {\r\n        setIsDropdownOpen(!isDropdownOpen);\r\n    };\r\n\r\n    const logout_user = () => {\r\n        logout();\r\n        setRedirect(true);\r\n    };\r\n\r\n    const guestLinks = () => (\r\n        <Fragment>\r\n            <li className='nav-item'>\r\n                <Link className='nav-link' to='/login'>Login</Link>\r\n            </li>\r\n            <li className='nav-item'>\r\n                <Link className='nav-link' to='/signup'>Sign Up</Link>\r\n            </li>\r\n        </Fragment>\r\n    );\r\n\r\n    const authLinks = () => (\r\n        <Fragment>\r\n            <li className='nav-item'>\r\n                <a className='nav-link' href='#!' onClick={logout_user}>Logout</a>\r\n            </li>\r\n        </Fragment>\r\n    );\r\n\r\n    return (\r\n        <Fragment>\r\n            <nav className=\"nav-container\">\r\n                <ul className=\"nav-list\">\r\n                    <li className=\"nav-item\">Salty</li>\r\n                    <li className=\"nav-item\"><button className=\"nav-button\">Your Work</button></li>\r\n                    <li className={`nav-item dropdown ${isDropdownOpen ? 'open' : ''}`}>\r\n                        <button className=\"nav-button dropbtn\" onClick={toggleDropdown}>Projects</button>\r\n                        {projects.map(project => (\r\n                        <div className=\"dropdown-content\">\r\n                            <Link to=\"/projects/project1\">{project.projectname}</Link>\r\n                        </div>\r\n                        ))}\r\n                    </li>\r\n                    <li className=\"nav-item\"><button className=\"nav-button\">Filters</button></li>\r\n                    <li className=\"nav-item\"><button className=\"nav-button\">Teams</button></li>\r\n                    {isAuthenticated ? authLinks() : guestLinks()}\r\n                </ul>\r\n                {redirect ? <Navigate to=\"/\" /> : null}\r\n            </nav>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    user:state.auth.user\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(Navbar);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}